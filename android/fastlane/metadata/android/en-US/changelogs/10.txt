DNS Lookup added and minor improvements